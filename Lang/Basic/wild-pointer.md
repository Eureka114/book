# 野指针

## 野指针(Wild Pointer)

在C++中，野指针是指向未知内存区域的指针。它通常是由于以下几种情况产生的：

1. 指针没有被初始化。例如，`int *p;`这里，`p`是一个野指针，因为它没有被初始化，它的值是不确定的。

   1. 关于初始化：指针不能由某个变量直接赋值；你必须使用取地址符号，将地址取出后再进行赋值操作。

   2. 指针已经释放了它所指向的内存，但仍然继续使用。例如：

      ```c++
      int *p = new int;
      delete p;
      *p = 10;  // 这里，p是一个野指针
      ```

      

   3. 在这个例子中，`p`先是指向一个新分配的`int`，然后这个`int`被删除，但`p`仍然保持着对它的引用。这时，`p`就变成了一个野指针。

2. 指针超出了它所指向的内存区域。例如：

```cpp
int arr[10];
int *p = arr + 10;  // 这里，p是一个野指针
```

在这个例子中，`p`指向了数组`arr`的末尾之后的位置，所以`p`是一个野指针。

3. 野指针是非常危险的，因为它可能会导致程序崩溃或者数据损坏。为了避免野指针，你应该总是初始化你的指针，不要使用已经删除的对象，以及不要让你的指针超出它所指向的内存区域。

4. 在Java中不存在所谓的“野指针”，因为Java有垃圾回收机制。但是，Java中有一种类似的概念叫做"空指针"（null reference）。当你声明一个对象引用并且没有给它赋值，或者明确地将它设置为null，那么这个引用就是一个空指针。如果你试图通过一个空指针来访问对象的方法或属性，Java会抛出一个`NullPointerException`。

   1. 例如：

      ```java
      String str = null;
      int length = str.length();  // 这将抛出NullPointerException
      ```

      在这个例子中，`str`是一个空指针，因为它没有引用任何对象。当你试图调用`str.length()`时，Java会抛出一个`NullPointerException`。

   2. 尽管Java的垃圾收集器可以防止野指针的出现，但是空指针仍然是Java程序中常见的错误源。为了避免空指针异常，你应该在访问对象的方法或属性之前，**检查对象引用是否为null**。
